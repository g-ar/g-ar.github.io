<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Some random stuffs -- Programming and Mathematics">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gopinath A R (old posts, page 6) | Gopinath A R</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://g-ar.github.io/index-6.html">
<link rel="prev" href="." type="text/html">
<link rel="next" href="index-5.html" type="text/html">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://g-ar.github.io/">

                <span id="blog-title">Gopinath A R</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>
                </li>
<li>
<a href="stories/about-me/">About</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/multisets-and-multivariate-generating-functions/" class="u-url">Multisets and multivariate generating functions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Gopinath
            </span></p>
            <p class="dateline"><a href="posts/multisets-and-multivariate-generating-functions/" rel="bookmark"><time class="published dt-published" datetime="2015-07-03T17:00:24+05:30" title="2015-07-03 17:00">2015-07-03 17:00</time></a></p>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p>Consider a multiset, <span class="math">\(S = \{11, 11, 11, 11, 12, 12, 12, 12, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15\}\)</span>.
<em>How many combinations of 8 elements can be made from the set so that the sum of those 8 elements is equal to 105, when the numbers are picked without replacement?</em></p>
<p>Here, if the sum is not asked, the problem can be solved using an ordinary generating function as</p>
<div class="math">
\begin{equation*}
G(x) = (1+x+x^2+x^3+x^4)^2\, (1+x+x^2+x^3+x^4+x^5)\, (1+x+x^2+x^3+x^4+x^5+x^6)\, (1+x+x^2+x^3)
\end{equation*}
</div>
<p>and finding <span class="math">\([x^8]G(x)\)</span></p>
<p>But when the sum is also there as a constraint, we require one more variable to keep track of the sum. So, we may use <span class="math">\(x\)</span> to know the number of elements chosen, and <span class="math">\(y\)</span> for the sum of those numbers. Hence, the required bivariate generating function can be written as</p>
<div class="math">
\begin{align*}
G(x,y) = {\left(x^{6} y^{84} + x^{5} y^{70} + x^{4} y^{56} + x^{3} y^{42} + x^{2} y^{28} + x y^{14} + 1\right)}\\ {\left(x^{5} y^{65} + x^{4} y^{52} + x^{3} y^{39} + x^{2} y^{26} + x y^{13} + 1\right)} {\left(x^{4} y^{48} + x^{3} y^{36} + x^{2} y^{24} + x y^{12} + 1\right)}\\ {\left(x^{4} y^{44} + x^{3} y^{33} + x^{2} y^{22} + x y^{11} + 1\right)} {\left(x^{3} y^{45} + x^{2} y^{30} + x y^{15} + 1\right)}
\end{align*}
</div>
<p>Now, the answer to the question would be <span class="math">\([x^8 y^{105}] G(x,y)\)</span> in the expansion of the product.</p>
<p>If the question was to find the number of combinations with replacement, the generating function can be represented as</p>
<div class="math">
\begin{equation*}
G(x,y) = \dfrac{1}{\left(1-x\, y^{11}\right)\left(1-x\, y^{12}\right)\left(1-x\, y^{13}\right)\left(1-x\, y^{14}\right)\left(1-x\, y^{15}\right)}
\end{equation*}
</div>
<p>Now, let us focus our attention to a related probability problem:</p>
<p><em>From the multiset S, what is the probability of choosing 8 elements such that the sum of those 8 elements is equal to 105, when the numbers are picked without replacement?</em></p>
<p>This looks simple and we may be tempted to say that the answer is <span class="math">\([x^8 y^{105}]G(x,y) / [x^8] G(x)\)</span>, but note that some combinations of numbers are more probable to be picked since the number of each element are not the same. E.g. If the set contains <span class="math">\(\{11, 11, 12\}\)</span>, the probability of choosing <span class="math">\(\{11, 11\}\)</span> will be more than the probability of choosing <span class="math">\(\{11, 12\}\)</span>.</p>
<p>Anyway, it can still be solved using a generating function:</p>
<div class="math">
\begin{align*}
P(x,y) = \left(1+\binom{4}{1}\, (x\, y^{11})^{1}+\binom{4}{2}\, (x\, y^{11})^{2}+\binom{4}{3}\, (x\, y^{11})^{3}+\binom{4}{4}\, (x\, y^{11})^{4}\right)\\ \left(1+\binom{4}{1}\, (x\, y^{12})^{1}+\binom{4}{2}\, (x\, y^{12})^{2}+\binom{4}{3}\, (x\, y^{12})^{3}+\binom{4}{4}\, (x\, y^{12})^{4}\right)\\ \left(1+\binom{5}{1}\, (x\, y^{13})^{1}+\binom{5}{2}\, (x\, y^{13})^{2}+\binom{5}{3}\, (x\, y^{13})^{3}+\binom{5}{4}\, (x\, y^{13})^{4}+\binom{5}{5}\, (x\, y^{13})^{5}\right)\\ \left(1+\binom{6}{1}\, (x\, y^{14})^{1}+\binom{6}{2}\, (x\, y^{14})^{2}+\binom{6}{3}\, (x\, y^{14})^{3}+\binom{6}{4}\, (x\, y^{14})^{4}+\binom{6}{5}\, (x\, y^{14})^{5}+\binom{6}{6}\, (x\, y^{14})^{6}\right)\\ \left(1+\binom{3}{1}\, (x\, y^{15})^{1}+\binom{3}{2}\, (x\, y^{15})^{2}+\binom{3}{3}\, (x\, y^{15})^{3}\right)
\end{align*}
</div>
<p>and the required probability is</p>
<div class="math">
\begin{equation*}
\mathbb{P} = \dfrac{[x^8 y^{105}] P(x,y)}{\dbinom{22}{8}} = \dfrac{343}{2805} \approx 0.122281639928699
\end{equation*}
</div>
<p>And what is the probability if we do it with replacement? In this case, the probability can be found by using an exponential generating function, which is written as:</p>
<div class="math">
\begin{equation*}
E(x,y) = e^{x\, \left(4\, y^{11}+4\, y^{12}+5\, y^{13}+6\, y^{14}+3\, y^{15} \right)}
\end{equation*}
</div>
<p>and the probability is given by <span class="math">\([x^8 y^{105}]E(x,y)\dfrac{8!}{22^8} = \dfrac{5621995920}{22^8} \approx 0.102449319851133\)</span>.</p>
<p>The above probabilities can also be verified by monte-carlo simulations in J, for the without replacement case:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/multisets-and-multivariate-generating-functions/#rest_code_c69166cbe0be4c67bccb2738bc440464-0">0</a>
<a href="posts/multisets-and-multivariate-generating-functions/#rest_code_c69166cbe0be4c67bccb2738bc440464-1">1</a>
<a href="posts/multisets-and-multivariate-generating-functions/#rest_code_c69166cbe0be4c67bccb2738bc440464-2">2</a></pre></div></td>
<td class="code"><pre class="code text"><a name="rest_code_c69166cbe0be4c67bccb2738bc440464-0"></a>lst=:(4#11,12),(5#13),(6#14),3#15
<a name="rest_code_c69166cbe0be4c67bccb2738bc440464-1"></a>sim=: 3 : '105=+/(8?#lst){lst'
<a name="rest_code_c69166cbe0be4c67bccb2738bc440464-2"></a>(+/%#)(sim"0)1e5#0
</pre></td>
</tr></table>
<p>and for the with replacement case:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/multisets-and-multivariate-generating-functions/#rest_code_1a1dfa352fe04278970ff04c42a3553c-0">0</a>
<a href="posts/multisets-and-multivariate-generating-functions/#rest_code_1a1dfa352fe04278970ff04c42a3553c-1">1</a>
<a href="posts/multisets-and-multivariate-generating-functions/#rest_code_1a1dfa352fe04278970ff04c42a3553c-2">2</a></pre></div></td>
<td class="code"><pre class="code text"><a name="rest_code_1a1dfa352fe04278970ff04c42a3553c-0"></a>lst=:(4#11,12),(5#13),(6#14),3#15
<a name="rest_code_1a1dfa352fe04278970ff04c42a3553c-1"></a>sim=: 3 : '105=+/(?8##lst){lst'
<a name="rest_code_1a1dfa352fe04278970ff04c42a3553c-2"></a>(+/%#)(sim"0)1e5#0
</pre></td>
</tr></table>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/getting-started-with-experimental-mathematics/" class="u-url">Getting started with experimental mathematics</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Gopinath
            </span></p>
            <p class="dateline"><a href="posts/getting-started-with-experimental-mathematics/" rel="bookmark"><time class="published dt-published" datetime="2014-12-16T16:47:39+05:30" title="2014-12-16 16:47">2014-12-16 16:47</time></a></p>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p>Here is one <a class="reference external" href="https://math.stackexchange.com/questions/1061083/average-time-to-fill-boxes-with-balls/">nice problem</a> to describe how arrive at a formula experimentally.</p>
<p>To rephrase the problem:</p>
<p>There are <span class="math">\(m\)</span> people with one ball each, and <span class="math">\(n\)</span> boxes. In a round, each of them picks one box randomly (uniformly and independently) and
drops the ball in it. Whichever box is not empty is removed, and the next round starts. How many rounds, on an average, will it take till no
boxes are left?</p>
<p>Obtaining a formula directly by combinatorial arguments without computing any values and getting it right is quite difficult, and prone to errors.</p>
<p>So, let us obtain it experimentally.</p>
<p>What does experimental math involve?</p>
<ul class="simple">
<li>Brute force through the problem<ul>
<li>Write a program which describes the problem</li>
<li>obtain the first few values</li>
<li>take it to either oeis or a sequence guessing routine</li>
<li>Then we may be able to find a formula</li>
</ul>
</li>
<li>If it's a problem on probability, do a simulation to cross verify with the formula</li>
<li>Having a lot of fun, doing both math and programming at the same time!</li>
</ul>
<p>Back to our problem, how many rounds can we expect for the game to last? Let us do the simulation by computing answers for small values, in J:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-0"> 0</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-1"> 1</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-2"> 2</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-3"> 3</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-4"> 4</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-5"> 5</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-6"> 6</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-7"> 7</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-8"> 8</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-9"> 9</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-10">10</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_4844f12d9e184486a50f3adbaeca4d6a-11">11</a></pre></div></td>
<td class="code"><pre class="code text"><a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-0"></a>   'm n'=:5 3
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-1"></a>   sim=: 3 : 0
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-2"></a>a=:m
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-3"></a>c=:0
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-4"></a>while. (a&gt;0) do.
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-5"></a>b=:+/~:?n#a
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-6"></a>a=:a-b
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-7"></a>c=:c+1
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-8"></a>end.
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-9"></a>c return.
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-10"></a>)
<a name="rest_code_4844f12d9e184486a50f3adbaeca4d6a-11"></a>   (+/%#)(sim"0)1e5#0
</pre></td>
</tr></table>
<p>Running the above gives a value of about <span class="math">\(2.554\)</span></p>
<p>Next, we will try to compute some numbers:
How many ways is it possible for 3 balls to be placed 5 boxes such that everybody chooses the same box?</p>
<p><span class="math">\(abc,0,0,0,0\)</span></p>
<p><span class="math">\(= 5\)</span> ways</p>
<p>How many ways is it possible for 3 balls to be placed 5 boxes such that two boxes are selected?</p>
<p>Do some casework:</p>
<p>One box may contain two balls, one box with one ball and one empty box.</p>
<p><span class="math">\(ab,c,0,0,0\)</span></p>
<p><span class="math">\(ac,b,0,0,0\)</span></p>
<p><span class="math">\(bc,a,0,0,0\)</span></p>
<p><span class="math">\(= 3\cdot 5!/3! = 60\)</span> ways</p>
<p>How many ways is it possible for 3 balls to be placed 5 boxes such that 3 boxes are selected?</p>
<p><span class="math">\(a,b,c,0,0\)</span></p>
<p><span class="math">\(= 5!/2! = 60\)</span> ways</p>
<p>And we see that the total turns out to be <span class="math">\(5 + 60 + 60 = 125\)</span>, which is 53, the number of ways of arranging the balls in boxes without any restriction.</p>
<p>To calculate the expected value, we have</p>
<div class="math">
\begin{equation*}
E[n] = p_1 * E[n-1] + p_2 * E[n-2] + \cdots + p_m * E[n-m]
\end{equation*}
</div>
<p>where <span class="math">\(p_m\)</span> means the probability of choosing <span class="math">\(m\)</span> different boxes from <span class="math">\(n\)</span> boxes.</p>
<p>For <span class="math">\(m=3\)</span> and <span class="math">\(n=5\)</span>, <span class="math">\(E[5] = 5/125*E[4]+60/125*E[3]+60/125*E[2] + 1\)</span></p>
<p>Then, calculate similarly for <span class="math">\(n=4\)</span> and <span class="math">\(m=3\)</span> to get <span class="math">\(E[4]\)</span> and so on.
The boundary condition is <span class="math">\(E[1]=1\)</span>, since obviously the game would end in one round if there was a single box.</p>
<p><span class="math">\(E[5]\)</span> would be <span class="math">\(\dfrac{18391}{7200} = 2.5543\)</span> which is close to the simulation. Hence, we can proceed with our experimentation for conjecturing a formula.</p>
<p>Let us calculate the number of ways to partition a number <span class="math">\(n\)</span> of length <span class="math">\(3\)</span> (number of people fixed at <span class="math">\(m=3\)</span>), using sage:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-0"> 0</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-1"> 1</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-2"> 2</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-3"> 3</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-4"> 4</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-5"> 5</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-6"> 6</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-7"> 7</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-8"> 8</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-9"> 9</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-10">10</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-11">11</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-12">12</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-13">13</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-14">14</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-15">15</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_97f2766c26934bafa82819f4bb1f2ad1-16">16</a></pre></div></td>
<td class="code"><pre class="code python"><a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-0"></a><span class="k">def</span> <span class="nf">afun</span><span class="p">(</span><span class="n">aa</span><span class="p">,</span><span class="n">bb</span><span class="p">,</span><span class="n">cc</span><span class="p">):</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-1"></a>    <span class="n">nn</span> <span class="o">=</span> <span class="n">aa</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-2"></a>    <span class="n">nbac</span> <span class="o">=</span> <span class="n">nn</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-3"></a>    <span class="n">mm</span> <span class="o">=</span> <span class="n">bb</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-4"></a>    <span class="n">ll</span> <span class="o">=</span> <span class="n">cc</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-5"></a>    <span class="n">summ</span> <span class="o">=</span> <span class="mi">0</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-6"></a>    <span class="n">alst</span> <span class="o">=</span> <span class="n">Partitions</span><span class="p">(</span><span class="n">nn</span><span class="p">,</span><span class="n">length</span><span class="o">=</span><span class="n">ll</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-7"></a>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">alst</span><span class="p">:</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-8"></a>        <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">+</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">mm</span><span class="o">-</span><span class="n">ll</span><span class="p">))</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-9"></a>        <span class="n">tot</span> <span class="o">=</span> <span class="mi">1</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-10"></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-11"></a>            <span class="n">tot</span> <span class="o">*=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">nn</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-12"></a>            <span class="n">nn</span> <span class="o">=</span> <span class="n">nn</span><span class="o">-</span><span class="n">c</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-13"></a>        <span class="n">summ</span> <span class="o">+=</span> <span class="n">Permutations</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span><span class="o">*</span><span class="n">tot</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-14"></a>        <span class="n">nn</span> <span class="o">=</span> <span class="n">nbac</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-15"></a>    <span class="k">return</span> <span class="n">summ</span>
<a name="rest_code_97f2766c26934bafa82819f4bb1f2ad1-16"></a><span class="k">print</span> <span class="p">[</span><span class="n">afun</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">16</span><span class="p">)]</span>
</pre></td>
</tr></table>
<p>What this function afun does is that for <span class="math">\(n\)</span> and <span class="math">\(m\)</span>, it computes the number of partitions having length <span class="math">\(l (\le m)\)</span>, and we compute the list of values for <span class="math">\(l=m=3\)</span> and varying <span class="math">\(n\)</span>.</p>
<p>Insert that list to oeis, and bingo! The second answer shown looks promising: <span class="math">\(A(k,3)\)</span> where <span class="math">\(A(k,n)= \sum_{m=1}^k (-1)^{m+1}\cdot \binom{n}{m} \cdot m^k\)</span>.</p>
<p>It seems to be related to the stirling numbers of the second kind.</p>
<p>After some trial and error, the equation turns out to be:</p>
<div class="math">
\begin{align*}
\displaystyle E_{n,m} &amp;= \left(\sum_{j=1}^{n-1} \left\lbrace {m \atop j} \right\rbrace \dfrac{n!}{(n-j)!} \dfrac{E_{n-j,m}}{n^m}\right)+1\\
E_{1,m} &amp;= 1
\end{align*}
</div>
<p>In maxima (which will cache the values to speed up recurrence computation), it can be written as:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/getting-started-with-experimental-mathematics/#rest_code_d874665e4db94b2aac69710c4949528f-0">0</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_d874665e4db94b2aac69710c4949528f-1">1</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_d874665e4db94b2aac69710c4949528f-2">2</a>
<a href="posts/getting-started-with-experimental-mathematics/#rest_code_d874665e4db94b2aac69710c4949528f-3">3</a></pre></div></td>
<td class="code"><pre class="code scheme"><a name="rest_code_d874665e4db94b2aac69710c4949528f-0"></a><span class="nv">m:3$</span>
<a name="rest_code_d874665e4db94b2aac69710c4949528f-1"></a><span class="nv">E</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="nv">:1$</span>
<a name="rest_code_d874665e4db94b2aac69710c4949528f-2"></a><span class="nv">E</span><span class="p">[</span><span class="nv">n</span><span class="p">]</span><span class="nv">:=sum</span><span class="p">(</span><span class="nf">stirling2</span><span class="p">(</span><span class="nf">m,j</span><span class="p">)</span><span class="nv">*factorial</span><span class="p">(</span><span class="nf">n</span><span class="p">)</span><span class="nv">/factorial</span><span class="p">(</span><span class="nf">n-j</span><span class="p">)</span><span class="nv">*E</span><span class="p">[</span><span class="nv">n-j</span><span class="p">]</span><span class="nv">/n^m,j,1,n-1</span><span class="p">)</span><span class="nv">+1$</span>
<a name="rest_code_d874665e4db94b2aac69710c4949528f-3"></a><span class="nv">float</span><span class="p">(</span><span class="nf">E</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="c1">;</span>
</pre></td>
</tr></table>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/jolla-and-sailfish-os/" class="u-url">Jolla and sailfish OS</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Gopinath
            </span></p>
            <p class="dateline"><a href="posts/jolla-and-sailfish-os/" rel="bookmark"><time class="published dt-published" datetime="2014-11-09T16:34:48+05:30" title="2014-11-09 16:34">2014-11-09 16:34</time></a></p>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p>Last week, I bought a Jolla phone after looking at some of the amazing features it offers. What are those amazing features? We'll see..</p>
<p>Most of the reviews scattered on the net miss the fact that it is a fully functional linux machine! We can install gcc, python etc. from the terminal (after the developer mode is activated). Let me list some of the things I did after getting my hands on the Jolla phone:</p>
<ul>
<li>
<p class="first">I didn't have an access point for wifi, so used hostapd to create one.</p>
</li>
<li>
<p class="first">Create a Jolla account to download the required softwares. (Phone's very much usable even without a sim card)</p>
</li>
<li>
<p class="first">After creating the account, we'll be able to enable the developer mode.</p>
</li>
<li>
<p class="first">Now, the terminal will be displayed.</p>
</li>
<li>
<p class="first">Open the terminal, become a root by typing in <tt class="docutils literal"><span class="pre">devel-su</span></tt> and the password from the settings-&gt;system-&gt;developer-mode</p>
</li>
<li>
<p class="first">We can also login via ssh, which will make our typing a lot easier. I connected via WLAN's IP address (<tt class="docutils literal">ssh <span class="pre">nemo@ip-addr</span></tt>, and type the password)</p>
</li>
<li>
<p class="first">gcc, g++, gdb, python and strace can be installed by issuing commands like <tt class="docutils literal">pkcon install gcc</tt></p>
</li>
<li>
<p class="first">Since we are also interested to do some math, what are our options?</p>
<ul class="simple">
<li>I downloaded sagemath for arm <span class="math">\(-\)</span> <tt class="docutils literal"><span class="pre">sage-5.13-armv7l-Linux</span></tt>, and tried to run it. Too bad, it crashed saying <tt class="docutils literal">ImportError: libcblas.so.3: cannot open shared object file: No such file or directory</tt> (Update: The sage 6.0 binary available for RPi works for jolla too, woohoo! Only issue I found till now is that plotting did not work.)</li>
<li>For FriCAS, Axiom, maxima etc., binaries are not available for ARM. To compile them, they require a lisp compiler, which isn't available in the repos yet (ecl is available in openrepos.net, did not try it though).</li>
<li>But anyway, if we look into <a class="reference external" href="https://openrepos.net">openrepos</a>, we find sympy, numpy, IPython, and matplotlib, which are more than sufficient for a mobile phone!</li>
</ul>
</li>
<li>
<p class="first">Why use IPython? Because, it provides us with a notebook interface which can be opened remotely, and also tab completion feature</p>
</li>
<li>
<p class="first">We can also install several useful softwares like emacs, system monitor, cpufrequtils etc. from openrepos.net. Hence, we can have the tools we need with us all the time! (Emacs calc mode itself can serve as a mini CAS!)</p>
</li>
<li>
<p class="first">The history of events like sms and calls are stored in a database. We can use SQL commands to extract the event of interest. E.g.</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/jolla-and-sailfish-os/#rest_code_997889bd0f794af5ae2bfdfee74a7891-0">0</a></pre></div></td>
<td class="code"><pre class="code sh"><a name="rest_code_997889bd0f794af5ae2bfdfee74a7891-0"></a>sqlite3 .local/share/commhistory/commhistory.db
</pre></td>
</tr></table>
</li>
<li>
<p class="first">Then, to display all the sms messages, run commands like</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/jolla-and-sailfish-os/#rest_code_f306facd19ec4d37b8b3b60048eeb351-0">0</a></pre></div></td>
<td class="code"><pre class="code sql"><a name="rest_code_f306facd19ec4d37b8b3b60048eeb351-0"></a><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">events</span> <span class="k">where</span> <span class="k">type</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
</pre></td>
</tr></table>
</li>
<li>
<p class="first">If we want to know what each column is about, run</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="posts/jolla-and-sailfish-os/#rest_code_648d73ba788a48bf9a8972755d36cab0-0">0</a></pre></div></td>
<td class="code"><pre class="code sql"><a name="rest_code_648d73ba788a48bf9a8972755d36cab0-0"></a><span class="p">.</span><span class="n">headers</span> <span class="k">ON</span>
</pre></td>
</tr></table>
</li>
<li>
<p class="first">And to top it all, though an ARM binary is not available, we can easily compile J to run it from the console! I think it's perfectly suitable language that can be used on a phone. (J download for RPi works too)</p>
</li>
</ul>
<p>To conclude, it's totally developer friendly. If anyone likes to program but hates all those manifest files seen in other mobile OSes, it feels like bliss! No need of bloated SDKs, no need of emulators (though it's there if a UI is required), just a simple ssh to connect to the phone and start coding!</p>
<p>It's friendly towards "end users" too, don't believe the "reviews" that say it has a "steep" learning curve because of its gesture based controls. The tutorial it displays when the phone is started is more than enough to understand the Sailfish OS. I won't talk about its UI, since pretty much all the other reviews are about only that and apps, pfff.</p>
<p>Nokia made a big mistake and died by dumping MeeGo and embracing m$.</p>
<p>I wish Jolla team a big success, but I also wish that they remove the mandatory signing up of a Jolla account for enabling developer mode.</p>
<p><a class="reference external" href="http://nims11.wordpress.com/2012/04/27/hostapd-the-linux-way-to-create-virtual-wifi-access-point/">1. Creating AP using hostapd</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/24490278/run-ipython-notebook-from-a-remote-server">2. Run IPython remotely</a></p>
<p><a class="reference external" href="https://github.com/ArchimedesPi/SageMathematics-raspi/">3. Sage 6.0 for RPi download</a></p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="." rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-5.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
