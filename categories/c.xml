<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gopinath A R (C)</title><link>https://g-ar.github.io/</link><description></description><atom:link href="https://g-ar.github.io/categories/c.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Fri, 16 Sep 2016 08:36:36 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Josephus problem -- C versus J</title><link>https://g-ar.github.io/posts/josephus-problem-c-versus-j/</link><dc:creator>Gopinath</dc:creator><description>&lt;div&gt;&lt;p&gt;In this post, we will see about implementation of a famous problem -- the Josephus Problem.&lt;/p&gt;
&lt;p&gt;As you can see, there's already an implementation in mathematica. But, not many of us are rich enough to buy MM. So, we need to make use of awesome and free programming languages like C and J! C for fast execution, J for quick coding.&lt;/p&gt;
&lt;p&gt;First, to implement in C, we need to write our own data structures. We will make use of a circular linked list, since that's how the josephus problem is stated.&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-12"&gt;12&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-13"&gt;13&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-14"&gt;14&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-15"&gt;15&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-16"&gt;16&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-17"&gt;17&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-18"&gt;18&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-19"&gt;19&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-20"&gt;20&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-21"&gt;21&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-22"&gt;22&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-23"&gt;23&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-24"&gt;24&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-25"&gt;25&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-26"&gt;26&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-27"&gt;27&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-28"&gt;28&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-29"&gt;29&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-30"&gt;30&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-31"&gt;31&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-32"&gt;32&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-33"&gt;33&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-34"&gt;34&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-35"&gt;35&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-36"&gt;36&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-37"&gt;37&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-38"&gt;38&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-39"&gt;39&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-40"&gt;40&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-41"&gt;41&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-42"&gt;42&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-43"&gt;43&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-44"&gt;44&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-45"&gt;45&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-46"&gt;46&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_904b945ba89445c6b4f3c5bf09668c58-47"&gt;47&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code C"&gt;&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-2"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-7"&gt;&lt;/a&gt;   &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-8"&gt;&lt;/a&gt;   &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-9"&gt;&lt;/a&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-11"&gt;&lt;/a&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;kill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-12"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-13"&gt;&lt;/a&gt;    &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;prev&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-14"&gt;&lt;/a&gt;    &lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-15"&gt;&lt;/a&gt;        &lt;span class="n"&gt;prev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-16"&gt;&lt;/a&gt;        &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-17"&gt;&lt;/a&gt;        &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-18"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-19"&gt;&lt;/a&gt;    &lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-20"&gt;&lt;/a&gt;    &lt;span class="n"&gt;free&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-21"&gt;&lt;/a&gt;    &lt;span class="n"&gt;prev&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-22"&gt;&lt;/a&gt;    &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-23"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-24"&gt;&lt;/a&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-25"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-26"&gt;&lt;/a&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-27"&gt;&lt;/a&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-28"&gt;&lt;/a&gt;    &lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"%d"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-29"&gt;&lt;/a&gt;    &lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"%d"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-30"&gt;&lt;/a&gt;    &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;malloc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-31"&gt;&lt;/a&gt;    &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-32"&gt;&lt;/a&gt;    &lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-33"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-34"&gt;&lt;/a&gt;    &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-35"&gt;&lt;/a&gt;        &lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;malloc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-36"&gt;&lt;/a&gt;        &lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-37"&gt;&lt;/a&gt;        &lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-38"&gt;&lt;/a&gt;        &lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-39"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-40"&gt;&lt;/a&gt;    &lt;span class="n"&gt;cur&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-41"&gt;&lt;/a&gt;    &lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-42"&gt;&lt;/a&gt;        &lt;span class="n"&gt;kill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-43"&gt;&lt;/a&gt;        &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-44"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-45"&gt;&lt;/a&gt;    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"%d&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-46"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_904b945ba89445c6b4f3c5bf09668c58-47"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;For the original Josephus problem, &lt;span class="math"&gt;\(n=41\)&lt;/span&gt; and &lt;span class="math"&gt;\(k=3\)&lt;/span&gt;, and the program answers &lt;span class="math"&gt;\(31\)&lt;/span&gt; as expected.
Next, we move on to J:&lt;/p&gt;
&lt;p&gt;J being an array programming language, there are verbs to operate on arrays. So, the josephus problem is a natural candidate for J. Here it goes:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_54f6293fcb55483bbf8a9b441e1a333d-1"&gt;1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_54f6293fcb55483bbf8a9b441e1a333d-2"&gt;2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_54f6293fcb55483bbf8a9b441e1a333d-3"&gt;3&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code text"&gt;&lt;a name="rest_code_54f6293fcb55483bbf8a9b441e1a333d-1"&gt;&lt;/a&gt;a=:1+i.41
&lt;a name="rest_code_54f6293fcb55483bbf8a9b441e1a333d-2"&gt;&lt;/a&gt;jose=: 4 : 'a=:}.(x-1)|.y'  NB. rotate and delete the first item
&lt;a name="rest_code_54f6293fcb55483bbf8a9b441e1a333d-3"&gt;&lt;/a&gt;3 jose^:(_1+#a) a
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;There, very much smaller than the C version. J code above uses nesting of function, i.e. the function jose is applied 40 times on array 'a', and a single element remains after that.&lt;/p&gt;
&lt;p&gt;A more explicit version can be written as:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-1"&gt;1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-2"&gt;2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-3"&gt;3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-4"&gt;4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-5"&gt;5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-6"&gt;6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/josephus-problem-c-versus-j/#rest_code_c5c3afed738e4b7399e899bcfdec05c2-7"&gt;7&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code text"&gt;&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-1"&gt;&lt;/a&gt;    jos =: 4 : 0
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-2"&gt;&lt;/a&gt;while. (#y)&amp;gt;1 do.
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-3"&gt;&lt;/a&gt;y=.}.(x-1)|.y
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-4"&gt;&lt;/a&gt;end.
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-5"&gt;&lt;/a&gt;return. y
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-6"&gt;&lt;/a&gt;)
&lt;a name="rest_code_c5c3afed738e4b7399e899bcfdec05c2-7"&gt;&lt;/a&gt;    3 jos 1+i.41
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;When n is small, the execution time does not make much difference either in J or C. But we can notice the difference clearly when n is large. E.g. for &lt;span class="math"&gt;\(n=40000\)&lt;/span&gt; and &lt;span class="math"&gt;\(k=11\)&lt;/span&gt;, the time taken in J is about 1.68s and in C, it's only about 0.018s in my machine. J can be sped up a bit by operating on multiple items at a time, and makes the program a little more complicated.&lt;/p&gt;
&lt;p&gt;You may wish to compare this with your favorite language's implementation in rosettacode, which has several clever solutions.&lt;/p&gt;&lt;/div&gt;</description><category>C</category><category>J</category><category>mathjax</category><guid>https://g-ar.github.io/posts/josephus-problem-c-versus-j/</guid><pubDate>Wed, 26 Mar 2014 06:30:59 GMT</pubDate></item><item><title>Generating image patterns</title><link>https://g-ar.github.io/posts/generating-image-patterns/</link><dc:creator>Gopinath</dc:creator><description>&lt;div&gt;&lt;p&gt;Computer and art mix very nicely. We can algorithmically generate patterns, be it pictures or music, which are aesthetic.&lt;/p&gt;
&lt;p&gt;Here is an example program for *nix systems which generates fractal like tiling.
We use tga format, which is simple but uncompressed. For compression, we may use imagemagick suit's convert command.&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-12"&gt;12&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-13"&gt;13&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-14"&gt;14&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-15"&gt;15&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-16"&gt;16&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-17"&gt;17&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-18"&gt;18&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-19"&gt;19&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-20"&gt;20&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-21"&gt;21&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-22"&gt;22&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-23"&gt;23&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-24"&gt;24&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-25"&gt;25&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-26"&gt;26&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-27"&gt;27&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-28"&gt;28&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-29"&gt;29&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-30"&gt;30&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-31"&gt;31&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-32"&gt;32&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-33"&gt;33&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-34"&gt;34&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-35"&gt;35&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-36"&gt;36&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-37"&gt;37&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-38"&gt;38&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-39"&gt;39&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-40"&gt;40&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-41"&gt;41&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-42"&gt;42&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-43"&gt;43&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-44"&gt;44&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-45"&gt;45&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/generating-image-patterns/#rest_code_34ee4b34daa0428caa3e8fcba24710fd-46"&gt;46&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code C"&gt;&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-2"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-3"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;math.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-4"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-5"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-7"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#define width 1366&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-8"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#define height 768&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-10"&gt;&lt;/a&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;pic&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-12"&gt;&lt;/a&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(){&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-13"&gt;&lt;/a&gt;  &lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-14"&gt;&lt;/a&gt;  &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-15"&gt;&lt;/a&gt;  &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-16"&gt;&lt;/a&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-17"&gt;&lt;/a&gt;  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-18"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-19"&gt;&lt;/a&gt;    &lt;span class="n"&gt;pic&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-20"&gt;&lt;/a&gt;    &lt;span class="n"&gt;pic&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-21"&gt;&lt;/a&gt;    &lt;span class="n"&gt;pic&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;350&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-22"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-23"&gt;&lt;/a&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-24"&gt;&lt;/a&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"image.tga"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;O_RDWR&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;O_CREAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;S_IRUSR&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;S_IWUSR&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-25"&gt;&lt;/a&gt;  &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-26"&gt;&lt;/a&gt;    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"error opening file&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-27"&gt;&lt;/a&gt;    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-28"&gt;&lt;/a&gt;  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-29"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-30"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-31"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-32"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-33"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-34"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-35"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-36"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mh"&gt;0x00FF&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-37"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mh"&gt;0xFF00&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-38"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mh"&gt;0x00FF&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-39"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mh"&gt;0xFF00&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-40"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-41"&gt;&lt;/a&gt;  &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-42"&gt;&lt;/a&gt;  &lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-43"&gt;&lt;/a&gt;  &lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pic&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-44"&gt;&lt;/a&gt;  &lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-45"&gt;&lt;/a&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_34ee4b34daa0428caa3e8fcba24710fd-46"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="figure"&gt;
&lt;img alt="../../images/pattern.png" src="https://g-ar.github.io/images/pattern.png"&gt;
&lt;p class="caption"&gt;Image generated by the program&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>C</category><category>computer art</category><category>GCC</category><category>mathjax</category><guid>https://g-ar.github.io/posts/generating-image-patterns/</guid><pubDate>Fri, 07 Feb 2014 14:41:32 GMT</pubDate></item><item><title>C code to assembly using gcc and gdb</title><link>https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/</link><dc:creator>Gopinath</dc:creator><description>&lt;div&gt;&lt;p&gt;Reading the disassembled code from the C programs which we can comfortably write is a great way to learn assembly language, do some archtecture specific optimizations and also to know what's happening under the hood.&lt;/p&gt;
&lt;p&gt;In this post, we will see how to translate a small C program to assembly (using flat assembler).&lt;/p&gt;
&lt;p&gt;Consider the following, where the code for gcd is taken from rosetta code:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_4512c7075cf04903a066b9b0f038aeb9-12"&gt;12&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code C"&gt;&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-3"&gt;&lt;/a&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;gcd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-4"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="n"&gt;gcd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-7"&gt;&lt;/a&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-8"&gt;&lt;/a&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"%d%d"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-10"&gt;&lt;/a&gt;    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"%d &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;gcd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_4512c7075cf04903a066b9b0f038aeb9-12"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;Compile to 32 bit code as&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_c51b8e9001084a8aa9f58f9363f51ac5-1"&gt;1&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_c51b8e9001084a8aa9f58f9363f51ac5-1"&gt;&lt;/a&gt;gcc -o gcd gcd.c -m32
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;and disassemble:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_5ce305cb20af4e74b15b6d787be6997a-1"&gt;1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_5ce305cb20af4e74b15b6d787be6997a-2"&gt;2&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_5ce305cb20af4e74b15b6d787be6997a-1"&gt;&lt;/a&gt;gdb ./gcd
&lt;a name="rest_code_5ce305cb20af4e74b15b6d787be6997a-2"&gt;&lt;/a&gt;&lt;span class="o"&gt;(&lt;/span&gt;gdb&lt;span class="o"&gt;)&lt;/span&gt; disas gcd
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;We will see something like this:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-12"&gt;12&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-13"&gt;13&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-14"&gt;14&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-15"&gt;15&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-16"&gt;16&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-17"&gt;17&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_302fb972bc1d45089a61691cd04454c3-18"&gt;18&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code S"&gt;&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-1"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048454&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+0&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    push   ebp
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-2"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048455&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+1&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    mov    ebp&lt;span class="p"&gt;,&lt;/span&gt;esp
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-3"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048457&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    sub    esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x18&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-4"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804845a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+6&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    cmp    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="mh"&gt;0x0&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-5"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804845e&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+10&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    je     &lt;span class="mh"&gt;0x804847e&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;gcd&lt;span class="m"&gt;+42&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-6"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048460&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+12&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;x8&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-7"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048463&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+15&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    edx&lt;span class="p"&gt;,&lt;/span&gt;eax
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-8"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048465&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+17&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    sar    edx&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x1f&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-9"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048468&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+20&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    idiv   DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-10"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804846b&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+23&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;edx
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-11"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804846d&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+25&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-12"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048471&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+29&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-13"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048474&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+32&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-14"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048477&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+35&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    call   &lt;span class="mh"&gt;0x8048454&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;gcd&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-15"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804847c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+40&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    jmp    &lt;span class="mh"&gt;0x8048481&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;gcd&lt;span class="m"&gt;+45&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-16"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804847e&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+42&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;x8&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-17"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048481&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+45&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    leave
&lt;a name="rest_code_302fb972bc1d45089a61691cd04454c3-18"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048482&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+46&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    ret
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;and&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_77b966f9f95847d5b1c8c45aa79fb95f-1"&gt;1&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_77b966f9f95847d5b1c8c45aa79fb95f-1"&gt;&lt;/a&gt;&lt;span class="o"&gt;(&lt;/span&gt;gdb&lt;span class="o"&gt;)&lt;/span&gt; disas main
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;shows like this:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-12"&gt;12&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-13"&gt;13&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-14"&gt;14&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-15"&gt;15&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-16"&gt;16&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-17"&gt;17&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-18"&gt;18&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-19"&gt;19&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-20"&gt;20&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-21"&gt;21&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-22"&gt;22&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_903ba9bb20514658be1f2dcdb7570bf1-23"&gt;23&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code S"&gt;&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-1"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048483&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+0&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    push   ebp
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-2"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048484&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+1&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    mov    ebp&lt;span class="p"&gt;,&lt;/span&gt;esp
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-3"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048486&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    and    esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0xfffffff0&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-4"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048489&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+6&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    sub    esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x20&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-5"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804848c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+9&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x80485b0&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-6"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048491&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+14&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    lea    edx&lt;span class="p"&gt;,[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x1c&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-7"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048495&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+18&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x8&lt;span class="p"&gt;],&lt;/span&gt;edx
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-8"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x08048499&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+22&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    lea    edx&lt;span class="p"&gt;,[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x18&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-9"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x0804849d&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+26&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;edx
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-10"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484a1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+30&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-11"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484a4&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+33&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    call   &lt;span class="mh"&gt;0x8048380&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;__isoc99_scanf&lt;span class="o"&gt;@&lt;/span&gt;plt&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-12"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484a9&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+38&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    edx&lt;span class="p"&gt;,&lt;/span&gt;DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x1c&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-13"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484ad&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+42&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x18&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-14"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484b1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+46&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;edx
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-15"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484b5&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+50&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-16"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484b8&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+53&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    call   &lt;span class="mh"&gt;0x8048454&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;gcd&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-17"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484bd&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+58&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    edx&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x80485b5&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-18"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484c2&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+63&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-19"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484c6&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+67&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    DWORD PTR &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;edx
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-20"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484c9&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+70&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    call   &lt;span class="mh"&gt;0x8048390&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;printf&lt;span class="o"&gt;@&lt;/span&gt;plt&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-21"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484ce&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+75&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x0&lt;/span&gt;
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-22"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484d3&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+80&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    leave
&lt;a name="rest_code_903ba9bb20514658be1f2dcdb7570bf1-23"&gt;&lt;/a&gt;&lt;span class="mh"&gt;0x080484d4&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;+81&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;    ret
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;From the disassembly, we can see that the function arguments are pushed from right to left.
We can also see that the local variables are allocated space in the stack.&lt;/p&gt;
&lt;p&gt;We need to replace all the relative references by labels, memory references by names and remove all "PTR" keywords.
Using the example to produce dynamically linked executable from fasm for linux (doing it in 1.70.03), we may write it as:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-1"&gt; 1&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-2"&gt; 2&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-3"&gt; 3&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-4"&gt; 4&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-5"&gt; 5&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-6"&gt; 6&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-7"&gt; 7&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-8"&gt; 8&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-9"&gt; 9&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-10"&gt;10&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-11"&gt;11&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-12"&gt;12&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-13"&gt;13&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-14"&gt;14&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-15"&gt;15&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-16"&gt;16&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-17"&gt;17&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-18"&gt;18&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-19"&gt;19&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-20"&gt;20&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-21"&gt;21&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-22"&gt;22&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-23"&gt;23&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-24"&gt;24&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-25"&gt;25&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-26"&gt;26&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-27"&gt;27&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-28"&gt;28&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-29"&gt;29&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-30"&gt;30&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-31"&gt;31&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-32"&gt;32&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-33"&gt;33&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-34"&gt;34&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-35"&gt;35&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-36"&gt;36&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-37"&gt;37&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-38"&gt;38&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-39"&gt;39&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-40"&gt;40&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-41"&gt;41&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-42"&gt;42&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-43"&gt;43&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-44"&gt;44&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-45"&gt;45&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-46"&gt;46&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-47"&gt;47&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-48"&gt;48&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-49"&gt;49&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-50"&gt;50&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-51"&gt;51&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-52"&gt;52&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-53"&gt;53&lt;/a&gt;
&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_a7364fb4492c4e3193abc912ce0053ca-54"&gt;54&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code S"&gt;&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-1"&gt;&lt;/a&gt;format ELF executable &lt;span class="m"&gt;3&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-2"&gt;&lt;/a&gt;entry start
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-4"&gt;&lt;/a&gt;include      &lt;span class="s"&gt;'examples/elfexe/dynamic/import32.inc'&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-5"&gt;&lt;/a&gt;include      &lt;span class="s"&gt;'examples/elfexe/dynamic/proc32.inc'&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-7"&gt;&lt;/a&gt;interpreter  &lt;span class="s"&gt;'/lib/ld-linux.so.2'&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-8"&gt;&lt;/a&gt;needed       &lt;span class="s"&gt;'libc.so.6'&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-9"&gt;&lt;/a&gt;import       printf&lt;span class="p"&gt;,&lt;/span&gt;scanf&lt;span class="p"&gt;,&lt;/span&gt;exit
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-11"&gt;&lt;/a&gt;segment readable executable
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-12"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-13"&gt;&lt;/a&gt;gcd&lt;span class="o"&gt;:&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-14"&gt;&lt;/a&gt;    push   ebp
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-15"&gt;&lt;/a&gt;    mov    ebp&lt;span class="p"&gt;,&lt;/span&gt;esp
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-16"&gt;&lt;/a&gt;    sub    esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x18&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-17"&gt;&lt;/a&gt;    cmp    DWORD &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="mh"&gt;0x0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-18"&gt;&lt;/a&gt;    je     l1
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-19"&gt;&lt;/a&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;x8&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-20"&gt;&lt;/a&gt;    mov    edx&lt;span class="p"&gt;,&lt;/span&gt;eax
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-21"&gt;&lt;/a&gt;    sar    edx&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x1f&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-22"&gt;&lt;/a&gt;    idiv   DWORD &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-23"&gt;&lt;/a&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;edx
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-24"&gt;&lt;/a&gt;    mov    DWORD &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-25"&gt;&lt;/a&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;xc&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-26"&gt;&lt;/a&gt;    mov    DWORD &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-27"&gt;&lt;/a&gt;    call   gcd
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-28"&gt;&lt;/a&gt;    jmp    l2
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-29"&gt;&lt;/a&gt;l1&lt;span class="o"&gt;:&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-30"&gt;&lt;/a&gt;    mov    eax&lt;span class="p"&gt;,&lt;/span&gt;DWORD &lt;span class="p"&gt;[&lt;/span&gt;ebp&lt;span class="m"&gt;+0&lt;/span&gt;x8&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-31"&gt;&lt;/a&gt;l2&lt;span class="o"&gt;:&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-32"&gt;&lt;/a&gt;    leave
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-33"&gt;&lt;/a&gt;    ret
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-34"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-35"&gt;&lt;/a&gt;start&lt;span class="o"&gt;:&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-36"&gt;&lt;/a&gt;    push     ebp
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-37"&gt;&lt;/a&gt;    mov      ebp&lt;span class="p"&gt;,&lt;/span&gt;esp
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-38"&gt;&lt;/a&gt;    and      esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0xfffffff0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-39"&gt;&lt;/a&gt;    sub      esp&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x20&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-40"&gt;&lt;/a&gt;    cinvoke  scanf&lt;span class="p"&gt;,&lt;/span&gt;pars&lt;span class="p"&gt;,&lt;/span&gt;n&lt;span class="p"&gt;,&lt;/span&gt;m
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-41"&gt;&lt;/a&gt;    mov      edx&lt;span class="p"&gt;,[&lt;/span&gt;n&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-42"&gt;&lt;/a&gt;    mov      eax&lt;span class="p"&gt;,[&lt;/span&gt;m&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-43"&gt;&lt;/a&gt;    mov      DWORD  &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="m"&gt;+0&lt;/span&gt;x4&lt;span class="p"&gt;],&lt;/span&gt;edx
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-44"&gt;&lt;/a&gt;    mov      DWORD  &lt;span class="p"&gt;[&lt;/span&gt;esp&lt;span class="p"&gt;],&lt;/span&gt;eax
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-45"&gt;&lt;/a&gt;    call     gcd
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-46"&gt;&lt;/a&gt;    cinvoke  printf&lt;span class="p"&gt;,&lt;/span&gt;parspf&lt;span class="p"&gt;,&lt;/span&gt;eax
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-47"&gt;&lt;/a&gt;    mov      eax&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0x0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-48"&gt;&lt;/a&gt;    cinvoke  exit
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-49"&gt;&lt;/a&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-50"&gt;&lt;/a&gt;segment readable writeable
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-51"&gt;&lt;/a&gt;    pars    db &lt;span class="s"&gt;'%d%d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-52"&gt;&lt;/a&gt;    parspf  db &lt;span class="s"&gt;'%d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mh"&gt;0xa&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-53"&gt;&lt;/a&gt;    n       dd &lt;span class="m"&gt;0&lt;/span&gt;
&lt;a name="rest_code_a7364fb4492c4e3193abc912ce0053ca-54"&gt;&lt;/a&gt;    m       dd &lt;span class="m"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;and assemble:&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_93c6a0adb8704bb890c11db45ca83943-1"&gt;1&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_93c6a0adb8704bb890c11db45ca83943-1"&gt;&lt;/a&gt;./fasm gcd.asm
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;The assembled code will perform the same way, but the executable produced is about 10 times smaller! With the assembly code, we will have more liberty to use architecture specific instructions. And, if we see that there are unnecessary register spills happening, we may modify the code to avoid it. (using "register" keyword and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-O3&lt;/span&gt;&lt;/tt&gt; option in gcc makes good use of registers)&lt;/p&gt;
&lt;p&gt;p.s.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;By default, disassembly syntax is not intel. To change it, use&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/#rest_code_896167f4ea1a42988343c6ad8f67f9db-1"&gt;1&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_896167f4ea1a42988343c6ad8f67f9db-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;set&lt;/span&gt; disassembly-flavor intel
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;You may consider placing it in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;$HOME/.gdbinit&lt;/span&gt;&lt;/tt&gt; to use intel syntax everytime.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-m32&lt;/span&gt;&lt;/tt&gt; option in gcc is not required if 32 bit linux distro is used.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-g&lt;/span&gt;&lt;/tt&gt; option is helpful in debugging the executable. We can check instruction-wise disassembly and also deduce the operator  precedence. You'll never need another silly book on C. When in doubt, go to the root!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</description><category>assembly</category><category>C</category><category>fasm</category><category>GCC</category><category>GDB</category><guid>https://g-ar.github.io/posts/c-code-to-assembly-using-gcc-and-gdb/</guid><pubDate>Sun, 19 Jan 2014 17:59:58 GMT</pubDate></item></channel></rss>