<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Animations with Context Free Art | Gopinath A R</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://g-ar.github.io/posts/animations-with-context-free-art/">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Gopinath">
<link rel="prev" href="../optical-illusions-with-context-free-art/" title="Optical Illusions with Context Free Art" type="text/html">
<meta property="og:site_name" content="Gopinath A R">
<meta property="og:title" content="Animations with Context Free Art">
<meta property="og:url" content="https://g-ar.github.io/posts/animations-with-context-free-art/">
<meta property="og:description" content="Context Free Art can also be used to create animations, and here let's see how to generate some moire patterns.
To generate each frame, cfdg uses the time parameter, and the ftime() function gets the ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-11-11T20:28:56+05:30">
<meta property="article:tag" content="computer art">
<meta property="article:tag" content="context free art">
<meta property="article:tag" content="moire patterns">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://g-ar.github.io/">

                <span id="blog-title">Gopinath A R</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>
                </li>
<li>
<a href="../../stories/about-me/">About</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.rst" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Animations with Context Free Art</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Gopinath
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2017-11-11T20:28:56+05:30" itemprop="datePublished" title="2017-11-11 20:28">2017-11-11 20:28</time></a></p>
            
        <p class="sourceline"><a href="index.rst" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Context Free Art can also be used to create animations, and here let's see how to generate some moire patterns.</p>
<p>To generate each frame, cfdg uses the <tt class="docutils literal">time</tt> parameter, and the <tt class="docutils literal">ftime()</tt> function gets the value for that frame. For our first example, we generate moire patterns with circles.</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_211b4918c74e4637a959502614cc036b-1"> 1</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-2"> 2</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-3"> 3</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-4"> 4</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-5"> 5</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-6"> 6</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-7"> 7</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-8"> 8</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-9"> 9</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-10">10</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-11">11</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-12">12</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-13">13</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-14">14</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-15">15</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-16">16</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-17">17</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-18">18</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-19">19</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-20">20</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-21">21</a>
<a href="#rest_code_211b4918c74e4637a959502614cc036b-22">22</a></pre></div></td>
<td class="code"><pre class="code text"><a name="rest_code_211b4918c74e4637a959502614cc036b-1"></a>startshape start
<a name="rest_code_211b4918c74e4637a959502614cc036b-2"></a>
<a name="rest_code_211b4918c74e4637a959502614cc036b-3"></a>CF::Time = [time -2 2]
<a name="rest_code_211b4918c74e4637a959502614cc036b-4"></a>CF::Background = [b 1]
<a name="rest_code_211b4918c74e4637a959502614cc036b-5"></a>CF::Size = [s 3]
<a name="rest_code_211b4918c74e4637a959502614cc036b-6"></a>
<a name="rest_code_211b4918c74e4637a959502614cc036b-7"></a>path circ(number rad) {
<a name="rest_code_211b4918c74e4637a959502614cc036b-8"></a>    MOVETO(rad,0)
<a name="rest_code_211b4918c74e4637a959502614cc036b-9"></a>    ARCTO(-rad,0,rad, CF::ArcCW)
<a name="rest_code_211b4918c74e4637a959502614cc036b-10"></a>    ARCTO(rad,0,rad, CF::ArcCW)
<a name="rest_code_211b4918c74e4637a959502614cc036b-11"></a>    STROKE(0.01)[]
<a name="rest_code_211b4918c74e4637a959502614cc036b-12"></a>}
<a name="rest_code_211b4918c74e4637a959502614cc036b-13"></a>
<a name="rest_code_211b4918c74e4637a959502614cc036b-14"></a>shape moire {
<a name="rest_code_211b4918c74e4637a959502614cc036b-15"></a>    loop 70 [s 0.98]
<a name="rest_code_211b4918c74e4637a959502614cc036b-16"></a>        circ(1)[]
<a name="rest_code_211b4918c74e4637a959502614cc036b-17"></a>}
<a name="rest_code_211b4918c74e4637a959502614cc036b-18"></a>
<a name="rest_code_211b4918c74e4637a959502614cc036b-19"></a>shape start {
<a name="rest_code_211b4918c74e4637a959502614cc036b-20"></a>    moire[x ftime() time -2 2 s 1]
<a name="rest_code_211b4918c74e4637a959502614cc036b-21"></a>    moire[x -ftime() time -2 2 s 1]
<a name="rest_code_211b4918c74e4637a959502614cc036b-22"></a>}
</pre></td>
</tr></table>
<p>To compile and generate the video of the animations</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_06a3fd4f841a4dcaa03bec3549e756ca-1">1</a></pre></div></td>
<td class="code"><pre class="code bash"><a name="rest_code_06a3fd4f841a4dcaa03bec3549e756ca-1"></a>cfdg moire_circles.cfdg -s <span class="m">1080</span> -a 15x25 -o ta%f.png
</pre></td>
</tr></table>
<p>generates 375 images (15 seconds, 25 fps) for the animation</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_7ea16f47dff74821a8909b5410ff7d60-1">1</a></pre></div></td>
<td class="code"><pre class="code bash"><a name="rest_code_7ea16f47dff74821a8909b5410ff7d60-1"></a>ffmpeg -r <span class="m">25</span> -i ./ta%3d.png -c:v libx264 out.mp4
</pre></td>
</tr></table>
<p>creates the HD video having a frame rate of 25.</p>
<p>And here's the final output</p>
<blockquote>
<div class="youtube-video align-center">
<iframe width="425" height="344" src="https://www.youtube.com/embed/nPbH9a-jz2w?rel=0&amp;hd=1&amp;wmode=transparent"></iframe>
</div>
</blockquote>
<p>Similarly, we can create a couple more animations like moire patterns by <a class="reference external" href="https://github.com/g-ar/CFreeArt/blob/master/v3/moire_lines.cfdg">rotating grates</a> and <a class="reference external" href="https://github.com/g-ar/CFreeArt/blob/master/v3/moire_graphene.cfdg">rotating two graphene layers</a></p>
<blockquote>
<div class="youtube-video align-center">
<iframe width="425" height="344" src="https://www.youtube.com/embed/GNHMPBs9Ozo?rel=0&amp;hd=1&amp;wmode=transparent"></iframe>
</div>
<div class="youtube-video align-center">
<iframe width="425" height="344" src="https://www.youtube.com/embed/uEw5a-Quk6Q?rel=0&amp;hd=1&amp;wmode=transparent"></iframe>
</div>
</blockquote>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/computer-art/" rel="tag">computer art</a></li>
            <li><a class="tag p-category" href="../../categories/context-free-art/" rel="tag">context free art</a></li>
            <li><a class="tag p-category" href="../../categories/moire-patterns/" rel="tag">moire patterns</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../optical-illusions-with-context-free-art/" rel="prev" title="Optical Illusions with Context Free Art">Previous post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
